<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:cache="http://www.springframework.org/schema/cache"
	   xmlns:p="http://www.springframework.org/schema/p" xmlns:dcits="http://code.alibabatech.com/schema/dubbo"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-3.0.xsd
		http://www.springframework.org/schema/cache 
		http://www.springframework.org/schema/cache/spring-cache-3.1.xsd
		http://code.alibabatech.com/schema/dubbo
        http://code.alibabatech.com/schema/dubbo/dubbo.xsd">

    <cache:annotation-driven/>
    <context:annotation-config/>
    <context:component-scan base-package="com.dcits.galaxy.cache"/>
    <import resource="classpath*:cache/**/*.xml"/>

	
	<!-- 聚集全局参数表缓存配置-->
	<bean id="musterParaTabCacheConfig" class="com.dcits.galaxy.cache.paratab.MusterParaTabCacheConfig"  init-method="loadDBProdName">	  
	  <property name="ShardSqlSessionTemplate" ref="shardSqlSessionTemplate"/>
	</bean>
	
	<!-- 应用级缓存公共配置 -->
	<bean id="defaultCache" class="com.dcits.galaxy.cache.global.RedisCache"
		p:name="default" />		
	<bean id="cacheManager"
		class="com.dcits.galaxy.cache.global.SimpleTransactionCacheManager">
		<property name="transactionAware" value="true" />
	</bean>
	
    <bean id="sharedLocalCacheManager"
          class="com.dcits.galaxy.cache.global.SharedLocalCacheManager"/>
    <dcits:service interface="com.dcits.galaxy.cache.global.LocalCacheManager"
                   ref="sharedLocalCacheManager"/>
</beans>