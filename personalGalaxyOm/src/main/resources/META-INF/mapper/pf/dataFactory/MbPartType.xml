<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dcits.ensemble.om.pf.dao.dataFactory.MbPartTypeDao">
  <!-- Created by zhangyjw on 2015/09/28 10:26:21. -->
  <select id="selectByPrimaryKey" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
    AND COLUMN_STATUS !='W'
  </select>
  <select id="getAll" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
	where COLUMN_STATUS!='W'
  </select>
  <select id="getAllContrast" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
    where COLUMN_STATUS!='Y'
  </select>

  <select id="getAllN"  resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
    where   IS_STANDARD =#{isStandard,jdbcType=VARCHAR}
  </select>
  <select id="getPartTypeByClass" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
    where PART_CLASS = #{partClass,jdbcType=VARCHAR}
    AND   IS_STANDARD =#{isStandard,jdbcType=VARCHAR}
    AND COLUMN_STATUS !='W'
  </select>
  <select id="getPartTypeByClass1" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *
    from mb_part_type
    where PART_CLASS = #{partClass,jdbcType=VARCHAR}
    AND   IS_STANDARD =#{isStandard,jdbcType=VARCHAR}
    <if test="busiCategory != null">
      AND  BUSI_CATEGORY LIKE #{busiCategory,jdbcType=VARCHAR}
    </if>
  </select>
  <select id="getTreeByBmodule" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartClass">
    select DISTINCT b.PART_CLASS,b.PART_CLASS_DESC,PART_CLASS_LEVEL,PARENT_PART_CLASS
    from mb_part_type a,mb_part_class b
    WHERE a.BUSI_CATEGORY LIKE #{busiCategory,jdbcType=VARCHAR}
      AND a.PART_CLASS = b.PART_CLASS

  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    delete from mb_part_type
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
  </delete>
  <update id="updateByPrimaryKey" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    update mb_part_type
    <set>
      <if test="partDesc != null">
        PART_DESC = #{partDesc,jdbcType=VARCHAR},
      </if>
      <if test="partClass != null">
        PART_CLASS = #{partClass,jdbcType=VARCHAR},
      </if>
      <if test="processMethod != null">
        PROCESS_METHOD =#{processMethod,jdbcType=VARCHAR},
      </if>
      <if test="busiCategory != null">
        BUSI_CATEGORY =#{busiCategory,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
      <if test="company != null">
        COMPANY = #{company,jdbcType=VARCHAR}
      </if>
    </set>
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
  </update>
  <insert id="insert" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    insert into mb_part_type
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="partType != null">
        PART_TYPE,
      </if>
      <if test="partDesc != null">
        PART_DESC,
      </if>
      <if test="partClass != null">
        PART_CLASS,
      </if>
      <if test="processMethod != null">
        PROCESS_METHOD,
      </if>
      <if test="busiCategory != null">
        BUSI_CATEGORY,
      </if>
      <if test="isStandard != null">
        IS_STANDARD,
      </if>
      <if test="defaultPart != null">
        DEFAULT_PART,
      </if>
      <if test="status != null">
        STATUS,
      </if>
      <if test="company != null">
        COMPANY,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="partType != null">
        #{partType,jdbcType=VARCHAR},
      </if>
      <if test="partDesc != null">
        #{partDesc,jdbcType=VARCHAR},
      </if>
      <if test="partClass != null">
        #{partClass,jdbcType=VARCHAR},
      </if>
      <if test="processMethod != null">
        #{processMethod,jdbcType=VARCHAR},
      </if>
      <if test="busiCategory != null">
        #{busiCategory,jdbcType=VARCHAR},
      </if>
      <if test="isStandard != null">
        #{isStandard,jdbcType=VARCHAR},
      </if>
      <if test="defaultPart != null">
        #{defaultPart,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="company != null">
        #{company,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="getForCheck" parameterType="java.lang.String" resultType="java.lang.String">
    select PART_CLASS
    from mb_part_type
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
  </select>
  <select id="getPartTypeDesc" parameterType="java.lang.String" resultType="java.lang.String">
    select PART_DESC
    from mb_part_type
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
  </select>

  <select id="getPartKey" parameterType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartClass" resultType="com.dcits.ensemble.om.pf.module.dataFactory.MbPartType">
    select *  from mb_part_type
    where PART_CLASS =  #{partClass,jdbcType=VARCHAR}
  </select>

  <select id="getProcessMethod" parameterType="java.lang.String" resultType="java.lang.String">
    select PROCESS_METHOD from mb_part_type
    where PART_TYPE = #{partType,jdbcType=VARCHAR}
  </select>
</mapper>