<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dcits.ensemble.om.oms.dao.shshpoc.EcmAppmoniIndexRecDao">  
  <select id="findList" parameterType="com.dcits.galaxy.dal.mybatis.proactor.page.ParameterWrapper" resultType="com.dcits.ensemble.om.oms.module.shshpoc.EcmAppmoniIndexRec">
    select *
    from ECM_APPMONI_INDEX_REC 
    where 1 = 1
      <if test="baseParam.appIndexrecDime != null">
        AND  APP_INDEXREC_DIME = #{baseParam.appIndexrecDime,jdbcType=VARCHAR}
      </if>
      <if test="baseParam.startTime!=null">
      <if test="baseParam.endTime!=null">  
      AND <![CDATA[
      APP_INDEXREC_DATE >= #{baseParam.startTime,jdbcType=VARCHAR} and APP_INDEXREC_DATE<= #{baseParam.endTime,jdbcType=VARCHAR}
      ]]>
      </if>
     </if>
    order by APP_INDEXREC_DATE DESC,APP_INDEXREC_STTIME DESC
  </select>
  <insert id="insert" parameterType="java.util.List">
    insert into ECM_APPMONI_INDEX_REC(APP_INDEXREC_ID,APP_INDEXREC_DATE,APP_INDEXREC_STTIME,APP_INDEXREC_EDTIME,
        APP_INDEXREC_DIMEVAL,APP_INDEXREC_DIME,INDEX1,INDEX2,INDEX3,INDEX4,INDEX5,INDEX6,INDEX7,INDEX8,INDEX9,INDEX10)
    <foreach collection="list" item="item" index="index" separator="union"> 
        SELECT 
        #{item.appIndexrecId,jdbcType=INTEGER},      
        #{item.appIndexrecDate,jdbcType=VARCHAR},
        #{item.appIndexrecSttime,jdbcType=VARCHAR},      
        #{item.appIndexrecEdtime,jdbcType=VARCHAR},     
        #{item.appIndexrecDimeval,jdbcType=VARCHAR},      
        #{item.appIndexrecDime,jdbcType=VARCHAR},    
      <if test="item.index1 != null">
        #{item.index1,jdbcType=VARCHAR},
      </if> 
      <if test="item.index1 == null">
        NULL,
      </if> 
       <if test="item.index2 != null">
        #{item.index2,jdbcType=VARCHAR},
      </if>
       <if test="item.index2 == null">
         NULL,
      </if> 
       <if test="item.index3 != null">
        #{item.index3,jdbcType=VARCHAR},
      </if> 
       <if test="item.index3 == null">
        NULL,
      </if> 
       <if test="item.index4 != null">
        #{item.index4,jdbcType=VARCHAR},
      </if> 
       <if test="item.index4 == null">
        NULL,
      </if> 
       <if test="item.index5 != null">
        #{item.index5,jdbcType=VARCHAR},
      </if> 
       <if test="item.index5 == null">
        NULL,
      </if> 
       <if test="item.index6 != null">
        #{item.index6,jdbcType=VARCHAR},
      </if> 
      <if test="item.index6 == null">
        NULL,
      </if> 
       <if test="item.index7 != null">
        #{item.index7,jdbcType=VARCHAR},
      </if>
      <if test="item.index7 == null">
       NULL,
      </if> 
       <if test="item.index8 != null">
        #{item.index8,jdbcType=VARCHAR},
      </if> 
        <if test="item.index8 == null">
       NULL,
      </if> 
       <if test="item.index9 != null">
        #{item.index9,jdbcType=VARCHAR},
      </if> 
       <if test="item.index9 == null">
        NULL,
      </if> 
       <if test="item.index10 != null">
        #{item.index10,jdbcType=VARCHAR}
      </if> 
       <if test="item.index10 == null">
        NULL
      </if> 
          FROM  DUAL
    </foreach>
     </insert>
</mapper>