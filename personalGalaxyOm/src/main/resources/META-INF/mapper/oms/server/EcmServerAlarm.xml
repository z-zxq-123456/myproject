<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dcits.ensemble.om.oms.dao.server.EcmServerAlarmDao">

  <select id="findList" parameterType="com.dcits.ensemble.om.oms.module.server.EcmServerAlarm" resultType="com.dcits.ensemble.om.oms.module.server.EcmServerAlarm">
    select ECM_SERVER_ALARM.* ,ECM_SERVER_INFO.SER_IP from ECM_SERVER_ALARM  , ECM_SERVER_INFO
    where ECM_SERVER_ALARM.SER_ID = ECM_SERVER_INFO.SER_ID
      <if test="baseParam.serId!=null ">
        and ECM_SERVER_ALARM.SER_ID =  #{baseParam.serId ,jdbcType=VARCHAR}
      </if>
      <if test="baseParam.alarmTime!=null ">
        and ECM_SERVER_ALARM.ALARM_TIME =  #{baseParam.alarmTime ,jdbcType=VARCHAR}
      </if>
      <if test="baseParam.alarmType!=null ">
        and ECM_SERVER_ALARM.ALARM_TYPE =  #{baseParam.alarmType ,jdbcType=VARCHAR}
      </if>
  </select>

  <insert id="insert" parameterType="com.dcits.ensemble.om.oms.module.server.EcmServerAlarm">
    insert into ECM_SERVER_ALARM
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="serAlarmId != null">
        SER_ALARM_ID,
      </if>
      <if test="serId != null">
        SER_ID,
      </if>
      <if test="alarmTime != null">
        ALARM_TIME,
      </if>
      <if test="alarmType != null">
        ALARM_TYPE,
      </if>
      <if test="alarmInfo != null">
        ALARM_INFO,
      </if>
      <if test="handleInfo != null">
        HANDLE_INFO,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="serAlarmId != null">
        #{serAlarmId,jdbcType=INTEGER},
      </if>
      <if test="serId != null">
        #{serId,jdbcType=INTEGER},
      </if>
      <if test="alarmTime != null">
        #{alarmTime,jdbcType=INTEGER},
      </if>
      <if test="alarmType != null">
        #{alarmType,jdbcType=INTEGER},
      </if>
      <if test="alarmInfo != null">
        #{alarmInfo,jdbcType=INTEGER},
      </if>
      <if test="handleInfo != null">
        #{handleInfo,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
</mapper>