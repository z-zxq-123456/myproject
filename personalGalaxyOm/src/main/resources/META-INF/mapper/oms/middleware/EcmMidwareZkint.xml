<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dcits.ensemble.om.oms.dao.middleware.EcmMidwareZkintDao">
  <!-- Created by oms on 2016/02/16 10:54:34. -->
  <select id="selectByPrimaryKey" parameterType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint" resultType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    select *
    from ECM_MIDWARE_ZKINT
    where ZKINT_ID = #{zkintId,jdbcType=INTEGER}
  </select>
  <select id="findList" parameterType="com.dcits.galaxy.dal.mybatis.proactor.page.ParameterWrapper" resultType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    select  a.ZKINT_ID,a.MIDWARE_ID,a.SER_ID,a.ZKINT_NAME,a.ZKINT_DESC,a.ZKINT_CLIENT_PORT,a.ZKINT_COMM_PORT,a.ZKINT_STATUS,a.ZKINT_ELECT_PORT,a.ZKINT_NODE_NUM,b.SER_NAME,b.SER_PWD, b.SER_IP,b.SER_OS,b.SER_USER,c.MIDWARE_NAME,c.MIDWARE_PATH,c.MIDWARE_VER_ID,c.MIDWARE_WORK,d.MIDWARE_VER_PATH,d.MIDWARE_VER_NO
    from ECM_MIDWARE_ZKINT  a,ECM_SERVER_INFO b,ECM_MIDWARE_INFO c,ECM_MIDWARE_VER d
    where  a.SER_ID=b.SER_ID  and a.MIDWARE_ID=c.MIDWARE_ID  and c.MIDWARE_VER_ID=d.MIDWARE_VER_ID
    <if test="baseParam.midwareId != null">
      AND   a.MIDWARE_ID = #{baseParam.midwareId,jdbcType=VARCHAR}
    </if>
  </select>
   <select id="findByMid" parameterType="java.util.Map" resultType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    select  a.*,b.SER_NAME,b.SER_PWD, b.SER_IP,b.SER_OS,b.SER_USER,c.MIDWARE_NAME,c.MIDWARE_PATH,c.MIDWARE_VER_ID,c.MIDWARE_WORK,d.MIDWARE_VER_PATH,d.MIDWARE_VER_NO
    from ECM_MIDWARE_ZKINT  a,ECM_SERVER_INFO b,ECM_MIDWARE_INFO c,ECM_MIDWARE_VER d
    where  a.SER_ID=b.SER_ID  and a.MIDWARE_ID=c.MIDWARE_ID  and c.MIDWARE_VER_ID=d.MIDWARE_VER_ID
    <if test="midwareId != null">
      AND   a.MIDWARE_ID = #{midwareId,jdbcType=INTEGER}
    </if>
     <if test="zkintId != null">
      AND   a.ZKINT_ID = #{zkintId,jdbcType=INTEGER}
    </if>
  </select>
  <select id="findListByAppId" parameterType="java.util.Map" resultType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    select  a.ZKINT_ID,a.MIDWARE_ID,a.SER_ID,a.ZKINT_NAME,a.ZKINT_DESC,a.ZKINT_CLIENT_PORT,a.ZKINT_COMM_PORT,a.ZKINT_ELECT_PORT,a.ZKINT_NODE_NUM,b.SER_NAME, b.SER_IP,c.MIDWARE_NAME
    from ECM_MIDWARE_ZKINT  a,ECM_SERVER_INFO b,ECM_MIDWARE_INFO c,ECM_APP_INFO d 
    where  a.SER_ID=b.SER_ID  and a.MIDWARE_ID=c.MIDWARE_ID  and d.MIDWARE_ZK_ID = c.MIDWARE_ID   
      AND   d.APP_ID = #{appId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    delete from ECM_MIDWARE_ZKINT
    where ZKINT_ID = #{zkintId,jdbcType=INTEGER}
  </delete>
  <update id="updateByPrimaryKey" parameterType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    update ECM_MIDWARE_ZKINT
    <set>
      <if test="midwareId != null">
        MIDWARE_ID = #{midwareId,jdbcType=INTEGER},
      </if>
      <if test="serId != null">
        SER_ID = #{serId,jdbcType=INTEGER},
      </if>
      <if test="zkintName != null">
        ZKINT_NAME = #{zkintName,jdbcType=VARCHAR},
      </if>
      <if test="zkintDesc != null">
        ZKINT_DESC = #{zkintDesc,jdbcType=VARCHAR},
      </if>
      <if test="zkintStatus != null">
        ZKINT_STATUS = #{zkintStatus,jdbcType=VARCHAR},
      </if>
      <if test="zkintClientPort != null">
        ZKINT_CLIENT_PORT = #{zkintClientPort,jdbcType=INTEGER},
      </if>
      <if test="zkintCommPort != null">
        ZKINT_COMM_PORT = #{zkintCommPort,jdbcType=INTEGER},
      </if>
      <if test="zkintElectPort != null">
        ZKINT_ELECT_PORT = #{zkintElectPort,jdbcType=INTEGER},
      </if>
      <if test="zkintNodeNum != null">
        ZKINT_NODE_NUM = #{zkintNodeNum,jdbcType=INTEGER}
      </if>
    </set>
    where ZKINT_ID = #{zkintId,jdbcType=INTEGER}
  </update>
  <insert id="insert" parameterType="com.dcits.ensemble.om.oms.module.middleware.EcmMidwareZkint">
    insert into ECM_MIDWARE_ZKINT
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="zkintId != null">
        ZKINT_ID,
      </if>
      <if test="midwareId != null">
        MIDWARE_ID,
      </if>
      <if test="serId != null">
        SER_ID,
      </if>
      <if test="zkintName != null">
        ZKINT_NAME,
      </if>
      <if test="zkintDesc != null">
        ZKINT_DESC,
      </if>
      <if test="zkintStatus != null">
        ZKINT_STATUS,
      </if>
       <if test="zkintClientPort != null">
        ZKINT_CLIENT_PORT,
      </if>
      <if test="zkintCommPort != null">
        ZKINT_COMM_PORT,
      </if>
      <if test="zkintElectPort != null">
        ZKINT_ELECT_PORT,
      </if>
      <if test="zkintNodeNum != null">
        ZKINT_NODE_NUM,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="zkintId != null">
        #{zkintId,jdbcType=INTEGER},
      </if>
      <if test="midwareId != null">
        #{midwareId,jdbcType=INTEGER},
      </if>
      <if test="serId != null">
        #{serId,jdbcType=INTEGER},
      </if>
      <if test="zkintName != null">
        #{zkintName,jdbcType=VARCHAR},
      </if>
      <if test="zkintDesc != null">
        #{zkintDesc,jdbcType=VARCHAR},
      </if>
      <if test="zkintStatus != null">
        #{zkintStatus,jdbcType=VARCHAR},
      </if>
       <if test="zkintClientPort != null">
        #{zkintClientPort,jdbcType=VARCHAR},
      </if>
      <if test="zkintCommPort != null">
        #{zkintCommPort,jdbcType=INTEGER},
      </if>
      <if test="zkintElectPort != null">
        #{zkintElectPort,jdbcType=INTEGER},
      </if>
      <if test="zkintNodeNum != null">
        #{zkintNodeNum,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
</mapper>