<rules>	
	<!--     expression  start -->
	<!-- 参数表达式  结果集类型type：map-->
	<expression id="exMap" exp="hash.mod(p1,2)">
		<formalParams>
			<formalParam name="p1" type="int" default="-1"/>
		</formalParams>
		<resultOptions type="map">
			<item result="-1">partition1,partition2</item>
			<item result="0">partition1</item>
			<item result="1">partition2</item>
		</resultOptions>
	</expression>
	
	<!-- 参数表达式  结果集类型type：list-->
	<expression id="exList" exp="hash.mod(p1,3)">
		<formalParams>
			<formalParam name="p1" type="int" default="-1"/>
			<formalParam name="p2" type="int" default="-1"/>
		</formalParams>
		<resultOptions type="list">
			<item >partition1,partition2</item>
		</resultOptions>
	</expression>
	
	<expression id="exDefault">
		<resultOptions type="map">
			<item key="default">partition1,partition2</item>
		</resultOptions>
	</expression>
	<!--     expression  end -->
	
	<!--      rule    start         -->
	<!-- 基于namespace路由  -->
	<rule expression="exMap">
		<namespace name="com.dcits.galaxy.dal.demo.entities.User">
			<actualParam name="sid" formalParam="p1"/>
		</namespace>
	</rule> 
	<!-- 基于namespace路由  Custom-->
	<rule expression="exList">
		<namespace name="com.dcits.galaxy.dal.demo.entities.Custom">
			<actualParam name="customId" formalParam="p1"/>
		</namespace>
	</rule>
	
	<rule expression="exDefault">
		<sqlmap name="com.dcits.galaxy.dal.demo.entities.User.findMax"/>
		<sqlmap name="com.dcits.galaxy.dal.demo.entities.User.findAll"/>
		<sqlmap name="com.dcits.galaxy.dal.demo.entities.User.findMin"/>
		<sqlmap name="com.dcits.galaxy.dal.demo.entities.User.findCount"/>
		<sqlmap name="com.dcits.galaxy.dal.demo.entities.User.findSum"/>
	</rule>
	<!--      rule    end         -->
</rules>